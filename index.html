<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>F√ºr Daria ‚Äì mit Liebe</title>
  <style>
    :root { --p: #fffafc; --s: #fde2e4; --a: #e75480; --glass: rgba(255, 255, 255, 0.4); }
    body {
      margin: 0; font-family: 'Segoe UI', Tahoma, sans-serif; color: #333; overflow-x: hidden;
      background: linear-gradient(135deg, var(--p), var(--s)); background-size: 400% 400%;
      animation: shift 15s ease infinite; scroll-behavior: smooth;
    }
    @keyframes shift { 0%, 100% {background-position: 0% 50%} 50% {background-position: 100% 50%} }
    
    header, section, footer { position: relative; z-index: 2; max-width: 850px; margin: 0 auto; padding: 2rem 1rem; }
    .card { background: var(--glass); backdrop-filter: blur(12px); border-radius: 25px; padding: 2.5rem; margin-bottom: 2rem; box-shadow: 0 10px 40px rgba(0,0,0,0.05); text-align: center; border: 1px solid rgba(255,255,255,0.3); }
    
    h1, h2 { color: var(--a); text-shadow: 1px 1px 2px rgba(0,0,0,0.05); }
    img { max-width: 100%; border-radius: 20px; transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
    img:hover { transform: scale(1.03); }
    
    /* Kalender-Spezial */
    #daily-photo { max-height: 450px; object-fit: cover; border: 8px solid white; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
    .leap-year-text { font-size: 1.5rem; color: #ff5e6c; font-weight: bold; padding: 2rem; border: 2px dashed #ff5e6c; border-radius: 20px; }

    /* Musik & Buttons */
    .music-grid { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin-bottom: 1rem; }
    button { 
      background: #ff5e6c; color: #fff; border: none; padding: 12px 24px; border-radius: 25px; 
      cursor: pointer; transition: 0.3s; font-weight: 600; box-shadow: 0 4px 10px rgba(255,94,108,0.3);
    }
    button:hover { background: var(--a); transform: translateY(-3px); box-shadow: 0 6px 15px rgba(231,84,128,0.4); }
    
    /* Games Layout */
    .game-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 30px; margin-top: 20px; }
    .grid { display: grid; gap: 6px; justify-content: center; margin: 15px auto; }
    #ttt-board { grid-template-columns: repeat(3, 75px); }
    #bs-board { grid-template-columns: repeat(6, 45px); }
    .cell { width: 75px; height: 75px; background: rgba(255,255,255,0.7); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.8rem; cursor: pointer; transition: 0.2s; }
    .cell:hover { background: #fff; transform: scale(1.05); }
    .bs-cell { width: 45px; height: 45px; background: #e3f2fd; font-size: 1.2rem; }
    .hit { background: #ffcdd2 !important; animation: pop 0.3s; }
    .miss { background: #eceff1 !important; opacity: 0.6; }
    @keyframes pop { 0% {transform: scale(0.8);} 100% {transform: scale(1);} }

    #bgCanvas { position: fixed; top: 0; left: 0; z-index: 0; pointer-events: none; }
    .gallery { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; }
    footer { font-style: italic; font-size: 1.1rem; opacity: 0.9; }
  </style>
</head>
<body>

<canvas id="bgCanvas"></canvas>

<header class="card">
  <img src="Titelbild.jpg" alt="Daria & Nils" style="width: 280px; height: 280px; object-fit: cover; border-radius: 50%; border: 5px solid white;">
  <h1>F√ºr Daria ‚Äì mit Liebe</h1>
  <p>Sch√∂n, dass es dich gibt. Diese Seite geh√∂rt nur dir.</p>
</header>

<section class="card">
  <h2>üìÖ Dein pers√∂nlicher Kalender</h2>
  <p id="date-label" style="font-size: 1.2rem; margin-bottom: 15px; color: #666;"></p>
  <div id="cal-container"></div>
</section>

<section class="card">
  <h2>üé∂ Unsere Soundtracks</h2>
  <div class="music-grid" id="music-btns"></div>
  <p id="musicText" style="font-style: italic; margin: 15px 0; min-height: 1.5em;"></p>
  <audio id="audio" controls style="width: 100%; border-radius: 10px;"></audio>
</section>

<section class="card">
  <h2>üìñ Unsere Geschichte</h2>
  <p>In einem wundersch√∂nen Sommer haben wir uns auf den Medimeisterschaften kennengelernt. Zwischen Musik, Lachen und Sonnenstrahlen begegneten wir uns und ahnten damals nicht, wie tief unsere Verbindung einmal werden w√ºrde.</p>
  <div class="gallery">
    <img src="2.jpg" alt="Moment 1"><img src="4.jpg" alt="Moment 2"><img src="5.jpg" alt="Moment 3">
  </div>
</section>

<section class="card">
  <h2>üéÆ Ein bisschen Spielerei</h2>
  <div class="game-container">
    <div>
      <h3>Tic Tac Toe</h3>
      <div id="ttt-board" class="grid"></div>
      <button onclick="initTTT()">Neues Spiel</button>
    </div>
    <div>
      <h3>Herzen versenken</h3>
      <div id="bs-board" class="grid"></div>
      <p id="bs-status">Finde die 3 versteckten Herzen!</p>
      <button onclick="initBS()">Neu mischen</button>
    </div>
  </div>
</section>

<footer class="card">
  "Vielleicht sind wir wie K√ºhe und Nilpferde ‚Äì v√∂llig verschieden. Doch gerade deshalb erg√§nzen wir uns so wunderbar." ‚ù§Ô∏è<br>
  <small style="display:block; margin-top:10px;">In Liebe, dein Nils</small>
</footer>

<script>
/* --- SETUP & KONFIGURATION --- */
const songs = [
  {f:"Musik1.mp3", c1:"#b3e5fc", c2:"#e1f5fe", a:"bubbles", t:"Dein Strahlen macht mich gl√ºcklich."},
  {f:"Musik2.mp3", c1:"#2c3e50", c2:"#000000", a:"lines", t:"Perfekt f√ºr volle Konzentration."},
  {f:"Musik3.mp3", c1:"#ffcc80", c2:"#ffb74d", a:"sun", t:"Erinnerung an unsere Sommertage."},
  {f:"Musik4.mp3", c1:"#f48fb1", c2:"#e57373", a:"hearts", t:"Das ist pure Liebe."},
  {f:"Musik5.mp3", c1:"#a5d6a7", c2:"#81c784", a:"leaves", t:"Unsere Abenteuer in Italien."},
  {f:"Musik6.mp3", c1:"#f8bbd0", c2:"#f48fb1", a:"stars", t:"Ich liebe dich."}
];

/* --- KALENDER-LOGIK --- */
function setupKalender() {
  const now = new Date();
  const month = now.getMonth(), day = now.getDate();
  const container = document.getElementById('cal-container');
  const dLabel = document.getElementById('date-label');
  
  dLabel.innerText = "Heute ist der " + now.toLocaleDateString('de-DE', {day:'numeric', month:'long'});

  if (month === 1 && day === 29) {
    container.innerHTML = "<div class='leap-year-text'>Juhuuuu es ist Schaltjahr! Frohen 29.02. :)</div>";
  } else {
    // Berechnung: Wievielter Tag im Jahr (ohne Schaltjahr-Sprung)
    const start = new Date(now.getFullYear(), 0, 0);
    const diff = now - start;
    const dayOfYear = Math.floor(diff / 86400000);
    // Deine Benennung: 01.01. (Tag 1) ist Kalender (2)
    const fileNum = dayOfYear + 1;
    container.innerHTML = `<img src="Kalender/Kalender (${fileNum}).jpg" id="daily-photo" onerror="this.parentElement.innerHTML='<p>Hier wartet bald ein Foto auf dich! ‚ù§Ô∏è</p>'">`;
  }
}

/* --- MUSIK & ANIMATIONS-WECHSEL --- */
let curA = "bubbles";
const audio = document.getElementById("audio"), mText = document.getElementById("musicText");
songs.forEach((s, i) => {
  const b = document.createElement("button"); b.innerText = `Moment ${i+1}`;
  b.onclick = () => {
    audio.src = s.f; audio.play();
    document.documentElement.style.setProperty("--p", s.c1);
    document.documentElement.style.setProperty("--s", s.c2);
    mText.innerText = s.t; curA = s.a;
  };
  document.getElementById("music-btns").appendChild(b);
});

/* --- HINTERGRUND-EFFEKTE (CANVAS) --- */
const cvs = document.getElementById("bgCanvas"), ctx = cvs.getContext("2d");
let w, h, t = 0;
function res() { w = cvs.width = window.innerWidth; h = cvs.height = window.innerHeight; }
window.onresize = res; res();

function draw() {
  ctx.clearRect(0,0,w,h); t += 0.01;
  ctx.fillStyle = "rgba(255,255,255,0.3)";
  ctx.font = "20px Arial";
  
  for(let i=0; i<30; i++) {
    let x = (Math.sin(t+i)*w*0.4+w/2), y = (i*60+t*80)%h;
    if(curA === "bubbles") { ctx.beginPath(); ctx.arc(x, y, 8, 0, 7); ctx.fill(); }
    else if(curA === "hearts") { ctx.fillText("‚ù§Ô∏è", x, y); }
    else if(curA === "stars") { ctx.fillText("‚ú®", (Math.cos(i)*w/2+w/2), (i*100+t*40)%h); }
    else if(curA === "lines") { ctx.fillRect(0, (i*50+t*50)%h, w, 1); }
  }
  requestAnimationFrame(draw);
}

/* --- GAME 1: TIC TAC TOE --- */
let tBoard = Array(9).fill(""), tActive = true;
function initTTT() {
  const b = document.getElementById("ttt-board"); b.innerHTML = "";
  tBoard.fill(""); tActive = true;
  for(let i=0; i<9; i++) {
    const c = document.createElement("div"); c.className = "cell";
    c.onclick = () => { 
      if(!tBoard[i] && tActive) { 
        tBoard[i]="X"; c.innerText="X"; 
        if(!checkTTT()) setTimeout(aiT, 400); 
      } 
    };
    b.appendChild(c);
  }
}
function aiT() {
  let e = tBoard.map((v,i)=>v===""?i:null).filter(v=>v!==null);
  if(e.length && tActive) { 
    let m = e[Math.floor(Math.random()*e.length)]; 
    tBoard[m]="O"; document.getElementById("ttt-board").children[m].innerText="O"; 
    checkTTT(); 
  }
}
function checkTTT() {
  const win = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
  for(let s of win) {
    if(tBoard[s[0]] && tBoard[s[0]]===tBoard[s[1]] && tBoard[s[0]]===tBoard[s[2]]) {
      tActive=false; alert(tBoard[s[0]]+" hat gewonnen! ‚ù§Ô∏è"); return true;
    }
  }
  if(!tBoard.includes("")) { tActive=false; alert("Unentschieden! üéÄ"); return true; }
  return false;
}

/* --- GAME 2: SCHIFFE VERSENKEN (HERZEN) --- */
let ships = [], hits = 0;
function initBS() {
  const b = document.getElementById("bs-board"); b.innerHTML = ""; hits = 0; ships = [];
  document.getElementById("bs-status").innerText = "Finde die 3 Herzen!";
  while(ships.length < 3) { let r = Math.floor(Math.random()*36); if(!ships.includes(r)) ships.push(r); }
  for(let i=0; i<36; i++) {
    const c = document.createElement("div"); c.className = "cell bs-cell";
    c.onclick = () => {
      if(c.classList.contains("hit") || c.classList.contains("miss") || hits >= 3) return;
      if(ships.includes(i)) { 
        c.classList.add("hit"); c.innerText="‚ù§Ô∏è"; hits++; 
        if(hits===3) document.getElementById("bs-status").innerText = "Gewonnen! Alle Herzen gefunden! ‚ú®";
      } else { 
        c.classList.add("miss"); c.innerText="~"; 
      }
    };
    b.appendChild(c);
  }
}

// Start-Funktionen
setupKalender(); draw(); initTTT(); initBS();
</script>
</body>
</html>
